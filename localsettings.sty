% localsettings.sty provides useful packages and other macros for
% figures, tables, etc.
\ProvidesPackage{localsettings}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%             Packages to be used                    %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\usepackage[most]{tcolorbox}
\usepackage{multicol}
% \usepackage{soul}
% \usepackage{cancel}
\usepackage{mdwlist}
\usepackage{amsmath,amssymb}
\usepackage{amsthm}
\usepackage{thmtools}
\usepackage{enumerate}
\usepackage{siunitx}
\usepackage{float}
\usepackage{calc}
% \usepackage{fancyhdr}
\usepackage{keyval}
\usepackage{pstricks}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{array}
\usepackage{setspace}
% \usepackage{graphicx}
\usepackage[nottoc]{tocbibind}
% \usepackage[utf8]{inputenc}
\usepackage{longtable}
\usepackage{hyphenat}
\usepackage{hyperref}
% \usepackage{svg}
\usepackage{ifthen}
\usepackage[framemethod=tikz]{mdframed}

\usepackage{tikz}
\usepackage{tikzscale}
\usepackage{pgf}
% \usetikzlibrary{arrows}
\usetikzlibrary{shapes,arrows}
% \usepackage{tipa}

% \setcounter{secnumdepth}{0} % sections are level 1
% \usepackage{sectsty}
% \allsectionsfont{\centering}


\usepackage[labelfont=bf,font=footnotesize]{caption}

\usepackage{relsize}
\usepackage[left=20mm,right=12mm,top=18mm, bottom=25mm]{geometry}

% \usepackage[all]{nowidow}
% \widowpenalty=10000
% \clubpenalty=10000

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\MakeUppercase}[1]{#1}	% Kopfzeilen nicht in gross

\fancyhead{}				% Kopfzeile
\renewcommand{\headrulewidth}{0pt}
\fancyhead[le,ro]{\thepage}
\fancyhead[co]{\itshape\rightmark}
\fancyhead[ce]{\itshape\leftmark}

\fancyfoot{}				% Fusszeile

%\fancyfoot[c]{\sffamily\small Version vom \today}

\fancypagestyle{plain}{%
  \fancyhead{}%
  \fancyfoot[c]{\sffamily\thepage}%
  \renewcommand{\headrulewidth}{0pt}%
}


\hypersetup{
    colorlinks,
    linkcolor={blue!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}



\KOMAoption{chapterprefix}{true}
\RedeclareSectionCommand[beforeskip=0pt,
afterskip=1cm]{chapter}
\let\raggedchapter\centering
\renewcommand*{\chapterformat}{%
  \Large\centering\chapapp~\thechapter\\
}
\addtokomafont{chapter}{\centering}

\usepackage{mathpazo}


\setlength{\columnseprule}{.3pt}

% \captionsetup[longtable]{%
%   labelfont={footnotesize,} ,
%   textfont={footnotesize}     ,
%   position=top            ,
%   belowskip=0pt           ,
%   aboveskip=3pt
% }

% \usepackage{ltcaption}
% % The ltcaption package supports \CaptionLabelFont & \CaptionTextFont
% % introduced by the NTG document classes
% \newcommand\CaptionLabelFont{\footnotesize}
% \newcommand\CaptionTextFont{\footnotesize}
%
% Fonts
% \usepackage[T1]{fontenc}
\usepackage{fontspec}
% \usepackage{unicode-math}
% \setmainfont{cm}
% \usepackage{tipa}

% \fontspec[Path = ./fonts/] { }

\setmainfont
[Path = ./fonts/,
% Scale=1.1,
BoldFont = texgyrepagella-bold.otf,
ItalicFont = texgyrepagella-italic.otf,
BoldItalicFont = texgyrepagella-bolditalic.otf]
{texgyrepagella-regular.otf}



% \usepackage[Latin]{ucharclasses}
% \usepackage{times}

% \setmainfont
% [Path = ./fonts/,
% BoldFont = timesbd.ttf,
% ItalicFont = timesi.ttf,
% BoldItalicFont = timesbi.ttf]
% {times.ttf}

% \setmainfont
% [Path = ./fonts/,
% BoldFont = Scala-Bold.otf]
% {Scala.otf}


% \setmainfont
% [Path = ./fonts/,
% BoldFont = PalatinoLTStd-Bold.otf,
% ItalicFont = PalatinoLTStd-Italic.otf,
% BoldItalicFont = PalatinoLTStd-BoldItalic.otf]
% {PalatinoLTStd-Roman.otf}


% \setmainfont
% [Path = ./fonts/,
% BoldFont = cmunbx.otf,
% ItalicFont = cmunti.otf,
% BoldItalicFont = cmunbi.otf]
% {cmunrm.otf}

% \setsansfont
% [Path = ./fonts/,
% BoldFont = cmunsx.otf,
% ItalicFont = cmunsi.otf,
% BoldItalicFont = cmunso.otf]
% {cmunss.otf}

\setmonofont
[Path = ./fonts/,
Scale=0.95,
BoldFont = cmuntb.otf,
ItalicFont = cmunit.otf,
BoldItalicFont = cmuntx.otf]
{cmuntt.otf}

% \setmonofont
% [Path = ./fonts/,
% BoldFont = courbd.ttf,
% ItalicFont = couri.ttf,
% BoldItalicFont = courbi.ttf]
% {cour.ttf}

% \setmonofont
% [Path = ./fonts/,
% Scale=0.95,
% BoldFont = consolas_bold.ttf,
% ItalicFont = consolas_italic.ttf,
% BoldItalicFont = consolas_bold_italic.ttf]
% {consolas.ttf}


\setsansfont
[Path = ./fonts/,
% Scale=0.9,
BoldFont = URWClassico-Bold.otf,
ItalicFont = URWClassico-Italic.otf,
BoldItalicFont = URWClassico-BoldItalic.otf]
{URWClassico-Regular.otf}


\newfontfamily\timesfont
[Path = ./fonts/,
BoldFont = timesbd.ttf,
ItalicFont = timesi.ttf,
BoldItalicFont = timesbi.ttf]
{times.ttf}




% \setmainfont{XITS} % you can use any other Times font if you wish
% \setmathfont{XITS Math}
% \usepackage[utf8]{inputenc}

\usepackage{polyglossia}
% \usepackage{multirow}

\setotherlanguage{arabic}
\setmainlanguage{turkish}

\newfontfamily\arabicfont%
[Path = ./fonts/,
Script = Arabic,
BoldFont = Scheherazade-Bold.ttf,
Scale=1.8]%
{Scheherazade-Regular.ttf}

% \usepackage{newpxtext,newpxmath}
%\usepackage[garamond]{mathdesign}
% \usepackage{pxfonts}
% \usepackage{ccfonts}
% \usepackage{mathpple}
% \usepackage{times}

% \usepackage[bitstream-charter]{mathdesign}
% \usepackage[T1]{fontenc}

% \usepackage{ebgaramond}

% \usepackage[urw-garamond]{mathdesign}
% \usepackage{garamondx}
% \usepackage[garamondx,cmbraces]{newtxmath}

% \usepackage{tgschola}
%\usepackage[defaultsans,scale=0.95]{droidsans}

% \renewcommand{\sfdefault}{\rmdefault}
\addtokomafont{disposition}{\rmfamily}
%
% Search directory for image files
\graphicspath{{./img/}{./fig/}}
%
% Engineering notation for numbers
\sisetup{output-exponent-marker=\ensuremath{\mathrm{E}}}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                 Misc Packages                      %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%\usepackage{algpseudocode,algorithm}
%\usepackage[small,compact]{titlesec}
%\setlength{\parindent}{0pt}
%\usepackage{parskip}
%\usepackage[cm]{fullpage}
%\usepackage{breqn}
%\pagestyle{fancyplain}
%\usepackage[nottoc,numbib]{tocbibind}
%\usepackage{wrapfig}
%\usepackage{parskip}
%\setlength{\columnseprule}{1pt}
% \setlength{\columnsep}{20pt}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%              Adding Notation Tables                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage[toc]{glossaries}
%
% \def\listofnotations{\input symbols.tex \clearpage}
% \def\anot #1: #2#3{\parbox{2cm}{#1}  {#2 \dotfill  \pagelabel{#3}}\\}
% \def\newnot#1{\label{#1}}
% \def\asym #1: #2#3{\parbox{2cm}{$#1$}  {#2 \dotfill  \pagelabel{#3}}\\}
%\usepackage{nomencl}
%\makenomenclature

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%   Theorem environments like remark, example etc.   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% \declaretheoremstyle[
%     headfont=\bfseries,
%     notebraces={[}{]},
%     % bodyfont=\normalfont\itshape,
%     headpunct={},
%     % preheadhook={\vspace{1.5ex}},
%     postheadspace=\newline,
%     % postheadhook={\textcolor{red}{\rule[.6ex]{\linewidth}{0.4pt}}\\},
%     postheadhook={\textcolor{gray}{\rule[.6ex]{\linewidth}{0.4pt}}\\},
%     spaceabove=\parsep,
%     spacebelow=\parsep,
%     mdframed={
%       backgroundcolor=gray!20,
%       % backgroundcolor=red!20,
%       % linecolor=red!30,
%       linecolor=gray!30,
%       innertopmargin=2ex,
%       innerbottommargin=3ex,
%       roundcorner=5pt,
%       skipabove=\parsep,
%       skipbelow=\parsep }
% ]{exampstyle}

% \declaretheorem[
%     style=exampstyle,
%     name=Remark,
%     numberwithin=chapter
% ]{remark}

% \declaretheorem[
%     style=exampstyle,
%     name=Example,
%     numberwithin=chapter
% ]{example}

% \declaretheorem[
%     style=exampstyle,
%     name=Box,
%     numberwithin=chapter
% ]{boxenv}

% Redefine proof environment

\makeatletter
\renewenvironment{proof}[1][\proofname]{\par
  \pushQED{\qed}%
  \normalfont \topsep6\p@\@plus6\p@\relax
  \trivlist
  \item%[\hskip\labelsep
%        \itshape
%%    #1\@addpunct{.}]\ignorespaces% DELETED
%    #1]\ignorespaces% ADDED
}{%
  \popQED\endtrivlist\@endpefalse
}
\makeatother


\makeatletter
\newcommand*{\rom}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother


% \newcommand\ul[1]{\textsc{\textsf{#1}}}
\newcommand\ul[1]{\textsc{#1}}
% \newcommand\ul[1]{\uppercase{#1}}
% \newcommand\ul[1]{\texttt{#1}}
% \newcommand\ul[1]{\textbf{#1}}

\newcommand\sectionnonumber[1]{%
  \section*{#1}%
  \addcontentsline{toc}{section}{\protect\numberline{}#1}%
}

\newcommand\subsectionnonumber[1]{%
  \subsection*{#1}%
  \addcontentsline{toc}{subsection}{\protect\numberline{}#1}%
}

\newcommand\eylem[1]{\subsubsection*{Eylem ismi: #1}}
\newcommand\etken[1]{\subsubsection*{Etken isim: #1}}
\newcommand\edilgen[1]{\subsubsection*{Edilgen isim: #1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%



\tcbset{
  frame code={}
  center title,
  left=0pt,
  right=0pt,
  top=0pt,
  bottom=0pt,
  colback=gray!30,
  colframe=white,
  width=\dimexpr\textwidth\relax,
  enlarge left by=0mm,
  boxsep=5pt,
  arc=0pt,outer arc=0pt,
}


%%%%%%%%%%%%%%%%%%%%%%

\newcommand\showcasekip[2]{%
  % \begin{tcolorbox}%
  \begin{center}%
  \fbox{\large\bfseries#1}%
  \\[1ex][#2]
  \end{center}%
  % \end{tcolorbox}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




\makeatletter
\def\instring#1#2{TT\fi\begingroup
  \edef\x{\endgroup\noexpand\in@{#1}{#2}}\x\ifin@}
%
\def\isuppercase#1{%
  \instring{#1}{AÂBCÇDEFGĞHIİÎJKLMNOÖÔPRSŞTUÜÛVYZ}%
}%
\makeatother


% Macro for root indicators
\makeatletter
\def\declen{\@ifnextchar[\@declen%
        {\@declen[]}}
\def\@declen[#1]#2{%
        \begingroup
        \catcode`\ 12
        \def\@declenvector{#1}
        \iterdeclen#2\relax
        \endgroup
}
\def\iterdeclen#1#2\relax{%
  %
  % \if#1\otherspace%
  %   % do nothing
  % \else%
  % \if\isuppercase{#1}%
  %   \textsf{#1}%
  %   % \textsc{\lowercase{#1}}%
  % \else%
  %   {\larger[2]\textnormal{#1}}%
  %   \fi%
  %
  \if#1\otherspace%
    % do nothing
  \else%
  \if\isuppercase{#1}%
    % {\sffamily\underline{\lowercase{#1}}}%
    % {\sffamily\smaller[1]#1}%
    \textsc{\lowercase{#1}}%
    % \textsc{\lowercase{\underline{\smash{#1}}}}%
  \else%
    #1%
  \fi%
  %
  %
    % #1%
    % {\@declenvector{s}{#1}}%
  \fi%
  %
  \ifx\relax#2\relax
    \let\next\relax%
  \else
    \let\next\iterdeclen {}%
  \fi
  \next#2\relax%
}
\catcode`\ 12
\def\otherspace{ }%
\catcode`\ 10
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\mdfdefinestyle{thmstyle}{%
  % backgroundcolor=gray!20,
  frametitlerule=true,
  linecolor=black,
  innertopmargin=2ex,
  innerbottommargin=3ex,
  % roundcorner=5pt,
  % frametitlerulewidth=1pt,
  frametitlerulecolor=black,
  frametitlealignment={\hspace*{-0.033\linewidth}},
  % frametitlefont=\Large,
  % frametitlefont=\bfseries,
  % skipabove=\topskip,skipbelow=\topskip,
  %%% kill the initial \parskip
  % innertopmargin=\dimexpr.4\baselineskip-\parskip\relax,
  % skipabove={\dimexpr0.5\baselineskip+\topskip\relax},
  % skipbelow={−1em},
  % needspace=3\baselineskip,
  % skipabove=\parsep,
  % skipbelow=\parsep
}

\mdfdefinestyle{thmstyle2}{%
  backgroundcolor=black!7!white,
  frametitlerule=true,
  innertopmargin=2ex,
  innerbottommargin=3ex,
  frametitlerulewidth=5pt,
  frametitlerulecolor=white,
  frametitlealignment={\hspace*{-0.033\linewidth}},
}


% \mdtheorem[style=thmstyle]{kip}{Kip}[subsection]
% \mdtheorem[style=thmstyle]{eylemkip}{Eylem Kipi}

\newcommand\declenlarge[1]{{\large\declen{#1}}}

% \newenvironment{eylemkipi}[1]%
% {\begin{mdframed}[frametitle={#1}, style=thmstyle2]}%
% {\end{mdframed}}

\newenvironment{eylemkipi}[1]{%
  \mdfsetup{%
    frametitlealignment=\center,
    frametitle={%
      \tikz[baseline=(current bounding box.east),outer sep=0pt]
      \node[anchor=east,rectangle,line width=0.4pt, draw=black, fill=white,
      % minimum height=4.5ex,
      inner sep=1.2ex]%
      % \node[anchor=east,rectangle,fill=gray!20]
      {\strut #1};}}%
  %
  \mdfsetup{innertopmargin=7pt,%
    linecolor=black,%
    linewidth=0.4pt,%
    topline=true,%
    frametitleaboveskip=-5ex,}%
  % frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
  \begin{mdframed}%
}{\end{mdframed}}
